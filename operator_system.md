# 互斥锁 自旋锁 原子操作 CAS
互斥锁会放弃时间片，自旋锁不放弃时间片
在短时间内能获得的资源用自旋锁，否则用互斥锁
自旋锁因为不放弃时间片，长时间上锁会消耗性能
原子操作： 一条语句通常编译成多条指令，读-操作-写。原子操作仅一条指令，所以不会在中间被劫胡。线程安全。但是需要指令集中有合适的原子操作指令
CAS：
懒汉单例： 如果单例对象指针为空，创建单例对象并且返回
while (true) {
int old_A = *A;
int new_A = old_A * (old_A - 1);
if (new_A == CAS(*A, old_A, new_A)) break;
}



# 孤儿进程 僵尸进程
孤儿进程：父进程先行结束，子进程被1号进程接管
僵尸进程：子进程结束但是父进程没有调用wait ： kill父进程


# c++进程间通信？
管道(Pipe)：管道可用于具有亲缘关系进程间的通信，允许一个进程和另一个与它有共同祖先的进程之间进行通信。  
命名管道(named pipe)：命名管道克服了管道没有名字的限制，因此，除具有管道所具有的功能外，它还允许无亲缘关系进程间的通信。命名管道在文件系统中有对应的文件名。命名管道通过命令mkfifo或系统调用mkfifo来创建。  
信号(Signal)：信号是比较复杂的通信方式，用于通知接受进程有某种事件发生，除了用于进程间通信外，进程还可以发送信号给进程本身;Linux除了支持Unix早期信号语义函数sigal外，还支持语义符合Posix.1标准的信号函数sigaction(实际上，该函数是基于BSD的，BSD为了实现可靠信号机制，又能够统一对外接口，用sigaction函数重新实现了signal函数)。  
信号量(semaphore)：主要作为进程间以及同一进程不同线程之间的同步手段。   
消息(Message)队列：消息队列是消息的链接表，包括Posix消息队列system V消息队列。有足够权限的进程可以向队列中添加消息，被赋予读权限的进程则可以读走队列中的消息。消息队列克服了信号承载信息量少，管道只能承载无格式字节流以及缓冲区大小受限等缺  
共享内存：使得多个进程可以访问同一块内存空间，是最快的可用IPC形式。是针对其他通信机制运行效率较低而设计的。往往与其它通信机制，如信号量结合使用，来达到进程间的同步及互斥。  
套接字(Socket)：更为一般的进程间通信机制，可用于不同机器之间的进程间通信。起初是由Unix系统的BSD分支开发出来的，但现在一般可以移植到其它类Unix系统上：Linux和System V的变种都支持套接字。  


# 进程间通信

(命名)管道，共享内存，信号量，信号，消息队列，soket

https://zhuanlan.zhihu.com/p/405664139

https://www.xiaolincoding.com/os/4_process/process_commu.html

管道和消息队列 https://www.tutorialspoint.com/difference-between-pipes-and-message-queues

管道和命名管道 https://blog.csdn.net/daaikuaichuan/article/details/82827994  管道仅在有亲缘关系进程间通信，命名管道可以在没有亲缘关系进程间通信

共享内存  现代操作系统，对于内存管理，采用的是虚拟内存技术，也就是每个进程都有自己独立的虚拟内存空间，不同进程的虚拟内存映射到不同的物理内存中。所以，即使进程 A 和 进程 B 的虚拟地址是一样的，其实访问的是不同的物理内存地址，对于数据的增删查改互不影响。**共享内存的机制，就是拿出一块虚拟地址空间来，映射到相同的物理内存中** 。这样这个进程写入的东西，另外一个进程马上就能看到了，都不需要拷贝来拷贝去，传来传去，大大提高了进程间通信的速度。

信号 信号是如何传递的 经过操作系统内核态传递给目标进程

# 僵尸进程 孤儿进程

https://blog.csdn.net/modi000/article/details/122043129